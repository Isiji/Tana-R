{% extends 'layout.html' %}

{% block content %}
    <h1>Edit Event</h1>
    <form method="POST" action="{{ url_for('events.update_event', id=event.id) }}">
        <!-- Event Name -->
        <div class="mb-3">
            <label for="event_name" class="form-label">Event Name</label>
            <input type="text" class="form-control" id="event_name" name="event_name" value="{{ event.event_name }}" required>
        </div>

        <!-- Impact Level -->
        <div class="mb-3">
            <label for="impact_level" class="form-label">Impact Level</label>
            <select class="form-select" id="impact_level" name="impact_level" required>
                {% for level in impact_levels %}
                    <option value="{{ level.value }}" {% if event.impact_level == level.value %} selected {% endif %}>{{ level.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Event Owner -->
        <div class="mb-3">
            <label for="event_owner" class="form-label">Event Owner</label>
            <input type="text" class="form-control" id="event_owner" name="event_owner" value="{{ event.event_owner }}" required>
        </div>

        <!-- Event Location -->
        <div class="mb-3">
            <label for="event_location" class="form-label">Event Location</label>
            <input type="text" class="form-control" id="event_location" name="event_location" value="{{ event.event_location }}" required>
        </div>

        <!-- Event Contact -->
        <div class="mb-3">
            <label for="event_contact" class="form-label">Event Contact</label>
            <input type="text" class="form-control" id="event_contact" name="event_contact" value="{{ event.event_contact }}" required>
        </div>

        <!-- Event Description -->
        <div class="mb-3">
            <label for="event_description" class="form-label">Event Description</label>
            <textarea class="form-control" id="event_description" name="event_description" rows="5" required>{{ event.event_description }}</textarea>
        </div>

        <!-- Event Date -->
        <div class="mb-3">
            <label for="event_date" class="form-label">Event Date</label>
            <input type="date" class="form-control" id="event_date" name="event_date" value="{{ event.event_date|date('YYYY-MM-DD') }}" required>
        </div>

        <!-- Polling Station -->
        <div class="mb-3">
            <label for="polling_station" class="form-label">Polling Station</label>
            <select class="form-select" id="polling_station" name="polling_station" required>
                {% for station in polling_stations %}
                    <option value="{{ station.id }}" {% if event.polling_station_id == station.id %} selected {% endif %}>{{ station.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary">Update Event</button>
    </form>
{% endblock %}
